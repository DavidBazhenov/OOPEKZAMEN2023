## &nbsp;&nbsp;&nbsp;&nbsp;С++. Статические компоненты класса. Статические методы.
### &nbsp;&nbsp;&nbsp;&nbsp;Статические компоненты класса
> &nbsp;&nbsp;&nbsp;&nbsp; — это поля класса, которые определены модификатором static и являются едиными для всех объектов этого класса.

&nbsp;&nbsp;&nbsp;&nbsp;Кроме переменных и методов, которые относятся непосредственно к объекту, C++ позволяет определять переменные и методы, которые относятся непосредственно к классу или иначе говоя **статические члены класса**.  

&nbsp;&nbsp;&nbsp;&nbsp;Статические переменные и методы относят в целом ко всему классу. Для их определения используется ключевое слово static.

&nbsp;&nbsp;&nbsp;&nbsp;Например, в банке может быть множество различных вкладов, однако все вклады будут иметь какие-то общие процентные ставки. Так, для описания банковского счета определим и используем следующий класс:

```
#include <iostream>
 
class Account 
{
public:
    Account(double sum)
    {
        this->sum = sum;
    }
    static int getRate()
    {
        return rate;
    }
    static void setRate(int r)
    {
        rate = r;
    }
    double getIncome()
    {
        return sum + sum * rate / 100;
    }
private:
    double sum;
    static int rate;
};
int Account::rate = 8;
int main()
{
    Account account1(20000);
    Account account2(50000);
    Account::setRate(5);        // переустанавливаем значение rate
    std::cout << "Rate: " << Account::getRate() << std::endl;
    std::cout << "Rate: " << account1.getRate() << " Income: " << account1.getIncome() << std::endl;
    std::cout << "Rate: " << account2.getRate() << " Income: " << account2.getIncome() << std::endl;
    return 0;
}
```

&nbsp;&nbsp;&nbsp;&nbsp;В классе Account определена одна статическая переменная rate и две статических функции для управления этой переменной.  

&nbsp;&nbsp;&nbsp;&nbsp;При определении статических функций стоит учитывать, что внутри них мы можем использовать только статические переменные класса, как например, переменную rate. Нестатические переменные использовать в статических функциях нельзя.

&nbsp;&nbsp;&nbsp;&nbsp;Также важно, что если класс содержит статические переменные, то они должны быть дополнительно определены вне класса:

```int Account::rate = 8;```

---

### &nbsp;&nbsp;&nbsp;&nbsp;Статические методы

>&nbsp;&nbsp;&nbsp;&nbsp;Статические функции пришли в С++ из С. По умолчанию все функции в С глобальные и, если вы захотите создать две функции с одинаковым именем в двух разных .c(.cpp) файлах одного проекта, то получите ошибку о том, что данная функция уже определена (fatal error LNK1169: one or more multiply defined symbols found).  
>&nbsp;&nbsp;&nbsp;&nbsp;Для того чтобы исправить данную проблему, одну нужно сделать статической. Теперь она определяется только в одном файле и не видна во всем проекте.

&nbsp;&nbsp;&nbsp;&nbsp;Статическую функцию-член вы можете использовать без создания объекта класса. Доступ к статическим функциям осуществляется с использованием имени класса и оператора разрешения области видимости (::). При использовании статической функции-члена есть ограничения, такие как:  

1. **Внутри функции обращаться можно только к статическим членам данных, другим статическим функциям-членам и любым другим функциям извне класса.**
2. **Статические функции-члены имеют область видимости класса, в котором они находятся.**
3. **Вы не имеете доступа к указателю this класса, потому что мы не создаем никакого объекта для вызова этой функции.**
```
#include <iostream>

class A {
public:
  A() { std::cout << "Constructor A" << std::endl; }
  ~A() { std::cout << "Destructor A" << std::endl; }

  static void foo() { // строка 8
    std::cout << "static foo()" << std::endl;
  }
};

int main() {
  A::foo(); // строка 14
  return 0;
}
```
>## [Полезная ссылка](https://habr.com/ru/post/527044/)
